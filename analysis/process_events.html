
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Processing of HiSPARC events &#8212; SAPPHiRE 1.7.1 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/hisparc_style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Processing of HiSPARC traces" href="process_traces.html" />
    <link rel="prev" title="Landau distribution" href="landau.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="process_traces.html" title="Processing of HiSPARC traces"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="landau.html" title="Landau distribution"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sapphire.html" >SAPPHiRE Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../analysis.html" accesskey="U">Data analysis</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-sapphire.analysis.process_events">
<span id="processing-of-hisparc-events"></span><h1>Processing of HiSPARC events<a class="headerlink" href="#module-sapphire.analysis.process_events" title="Permalink to this headline">¶</a></h1>
<p>Process HiSPARC events</p>
<p>This module can be used analyse data to get observables like arrival
times and particle count in each detector for each event.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="kn">import</span> <span class="nn">tables</span>

<span class="kn">from</span> <span class="nn">sapphire.publicdb</span> <span class="k">import</span> <span class="n">download_data</span>
<span class="kn">from</span> <span class="nn">sapphire</span> <span class="k">import</span> <span class="n">ProcessEvents</span>

<span class="n">STATIONS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">501</span><span class="p">,</span> <span class="mi">503</span><span class="p">,</span> <span class="mi">506</span><span class="p">]</span>
<span class="n">START</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">END</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2013</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">station_groups</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/s</span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">u</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">STATIONS</span><span class="p">]</span>

    <span class="k">with</span> <span class="n">tables</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="s1">&#39;data.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">station</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">STATIONS</span><span class="p">,</span> <span class="n">station_groups</span><span class="p">):</span>
            <span class="n">download_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">START</span><span class="p">,</span> <span class="n">END</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">proc</span> <span class="o">=</span> <span class="n">ProcessEvents</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>
            <span class="n">proc</span><span class="o">.</span><span class="n">process_and_store_results</span><span class="p">()</span>
</pre></div>
</div>
<dl class="data">
<dt id="sapphire.analysis.process_events.ADC_THRESHOLD">
<code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ADC_THRESHOLD</code><em class="property"> = 20</em><a class="headerlink" href="#sapphire.analysis.process_events.ADC_THRESHOLD" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for arrival times, relative to the baseline</p>
</dd></dl>

<dl class="data">
<dt id="sapphire.analysis.process_events.TRIGGER_2">
<code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">TRIGGER_2</code><em class="property"> = (2, 0, False, 0)</em><a class="headerlink" href="#sapphire.analysis.process_events.TRIGGER_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Default trigger for 2-detector station
2 low and no high, no external</p>
</dd></dl>

<dl class="data">
<dt id="sapphire.analysis.process_events.TRIGGER_4">
<code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">TRIGGER_4</code><em class="property"> = (3, 2, True, 0)</em><a class="headerlink" href="#sapphire.analysis.process_events.TRIGGER_4" title="Permalink to this definition">¶</a></dt>
<dd><p>Default trigger for 4-detector station
3 low or 2 high, no external</p>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessEvents">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessEvents</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC events to obtain several observables.</p>
<p>This class can be used to process a set of HiSPARC events and adds a
few observables like particle arrival time and number of particles in
the detector to a copy of the event table.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.analysis.process_events.ProcessEvents.processed_events_description">
<code class="descname">processed_events_description</code><em class="property"> = {'baseline': Int16Col(shape=(4,), dflt=-1, pos=6), 'data_reduction': BoolCol(shape=(), dflt=False, pos=4), 'event_id': UInt32Col(shape=(), dflt=0, pos=0), 'event_rate': Float32Col(shape=(), dflt=0.0, pos=12), 'ext_timestamp': UInt64Col(shape=(), dflt=0, pos=3), 'integrals': Int32Col(shape=(4,), dflt=-1, pos=10), 'n1': Float32Col(shape=(), dflt=-1.0, pos=17), 'n2': Float32Col(shape=(), dflt=-1.0, pos=18), 'n3': Float32Col(shape=(), dflt=-1.0, pos=19), 'n4': Float32Col(shape=(), dflt=-1.0, pos=20), 'n_peaks': Int16Col(shape=(4,), dflt=-1, pos=8), 'nanoseconds': UInt32Col(shape=(), dflt=0, pos=2), 'pulseheights': Int16Col(shape=(4,), dflt=-1, pos=9), 'std_dev': Int16Col(shape=(4,), dflt=-1, pos=7), 't1': Float32Col(shape=(), dflt=-1.0, pos=13), 't2': Float32Col(shape=(), dflt=-1.0, pos=14), 't3': Float32Col(shape=(), dflt=-1.0, pos=15), 't4': Float32Col(shape=(), dflt=-1.0, pos=16), 't_trigger': Float32Col(shape=(), dflt=-1.0, pos=21), 'timestamp': Time32Col(shape=(), dflt=0, pos=1), 'traces': Int32Col(shape=(4,), dflt=-1, pos=11), 'trigger_pattern': UInt32Col(shape=(), dflt=0, pos=5)}</em><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents.processed_events_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessEvents.process_and_store_results">
<code class="descname">process_and_store_results</code><span class="sig-paren">(</span><em>destination=None</em>, <em>overwrite=False</em>, <em>limit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents.process_and_store_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Process events and store the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> – name of the table where the results will be
written.  The default, None, corresponds to ‘events’.</li>
<li><strong>overwrite</strong> – if True, overwrite previously obtained results.</li>
<li><strong>limit</strong> – the maximum number of events that will be stored.
The default, None, corresponds to no limit.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessEvents.get_traces_for_event">
<code class="descname">get_traces_for_event</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents.get_traces_for_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the traces from an event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> – a row from the events table.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the traces: an array of pulseheight values.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessEvents.get_traces_for_event_index">
<code class="descname">get_traces_for_event_index</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents.get_traces_for_event_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the traces from event #idx.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>idx</strong> – the index number of the event.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the traces: an array of pulseheight values.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessEvents.process_traces">
<code class="descname">process_traces</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents.process_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Process traces to yield pulse timing information.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="sapphire.analysis.process_events.ProcessEvents.first_above_threshold">
<em class="property">static </em><code class="descname">first_above_threshold</code><span class="sig-paren">(</span><em>trace</em>, <em>threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEvents.first_above_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the first element in the list equal or above threshold</p>
<p>If no element matches the condition -999 will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trace</strong> – iterable trace.</li>
<li><strong>threshold</strong> – value the trace has to be greater or equal to.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">index in trace where a value is greater or equal to
threshold.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessIndexedEvents">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessIndexedEvents</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>indexes</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessIndexedEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a subset of events using an index.</p>
<p>This is a subclass of <a class="reference internal" href="#sapphire.analysis.process_events.ProcessEvents" title="sapphire.analysis.process_events.ProcessEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEvents</span></code></a>.  Using an index, this
class will only process a subset of events, thus saving time.  For
example, this class can only process events making up a coincidence.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>indexes</strong> – a list of indexes into the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessIndexedEvents.process_traces">
<code class="descname">process_traces</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessIndexedEvents.process_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Process traces to yield pulse timing information.</p>
<p>This method makes use of the indexes to build a list of events.</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessIndexedEvents.get_traces_for_indexed_event_index">
<code class="descname">get_traces_for_indexed_event_index</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessIndexedEvents.get_traces_for_indexed_event_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessEventsWithLINT">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessEventsWithLINT</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEventsWithLINT" title="Permalink to this definition">¶</a></dt>
<dd><p>Process events using LInear INTerpolation for arrival times.</p>
<p>This is a subclass of <a class="reference internal" href="#sapphire.analysis.process_events.ProcessEvents" title="sapphire.analysis.process_events.ProcessEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEvents</span></code></a>.  Use a linear
interpolation method to determine the arrival times of particles.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessIndexedEventsWithLINT">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessIndexedEventsWithLINT</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>indexes</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessIndexedEventsWithLINT" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a subset of events using LInear INTerpolation.</p>
<p>This is a subclass of <a class="reference internal" href="#sapphire.analysis.process_events.ProcessIndexedEvents" title="sapphire.analysis.process_events.ProcessIndexedEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessIndexedEvents</span></code></a> and
<a class="reference internal" href="#sapphire.analysis.process_events.ProcessEventsWithLINT" title="sapphire.analysis.process_events.ProcessEventsWithLINT"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEventsWithLINT</span></code></a>.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>indexes</strong> – a list of indexes into the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessEventsWithoutTraces">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessEventsWithoutTraces</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEventsWithoutTraces" title="Permalink to this definition">¶</a></dt>
<dd><p>Process events without traces</p>
<p>This is a subclass of <a class="reference internal" href="#sapphire.analysis.process_events.ProcessEvents" title="sapphire.analysis.process_events.ProcessEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEvents</span></code></a>.  Processing events
without considering traces will invalidate the arrival time
information.  However, for some analyses it is not necessary to obtain
this information.  Ignoring the traces will then greatly decrease
processing time and data size.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessIndexedEventsWithoutTraces">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessIndexedEventsWithoutTraces</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>indexes</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessIndexedEventsWithoutTraces" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a subset of events without traces</p>
<p>This is a subclass of <a class="reference internal" href="#sapphire.analysis.process_events.ProcessIndexedEvents" title="sapphire.analysis.process_events.ProcessIndexedEvents"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessIndexedEvents</span></code></a> and
<a class="reference internal" href="#sapphire.analysis.process_events.ProcessEventsWithoutTraces" title="sapphire.analysis.process_events.ProcessEventsWithoutTraces"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEventsWithoutTraces</span></code></a>.  Processing events without
considering traces will invalidate the arrival time information.
However, for some analyses it is not necessary to obtain this
information.  Ignoring the traces will then greatly decrease
processing time and data size.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>indexes</strong> – a list of indexes into the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessEventsWithTriggerOffset">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessEventsWithTriggerOffset</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em>, <em>station=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEventsWithTriggerOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>Process events and reconstruct trigger time from traces</p>
<p>The trigger times are stored in the columnt_trigger, they are
relative to the start of traces, just like the t# columns.</p>
<p>If no trigger can be found, possibly due to the data filter,
a value of -999 will be entered.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
<li><strong>station</strong> – station number of station to which the data belongs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessEventsFromSource">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessEventsFromSource</code><span class="sig-paren">(</span><em>source_file</em>, <em>dest_file</em>, <em>source_group</em>, <em>dest_group</em>, <em>progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEventsFromSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC events from a different source.</p>
<p>This class is a subclass of ProcessEvents.  The difference is that in
this class, the source and destination are assumed to be different
files.  This also means that the source is untouched (no renaming of
original event tables) and the destination is assumed to be empty.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_file</strong><strong>,</strong><strong>dest_file</strong> – PyTables source and destination files.</li>
<li><strong>source_group</strong><strong>,</strong><strong>dest_group</strong> – the pathname of the source and
destination group.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessEventsFromSourceWithTriggerOffset">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessEventsFromSourceWithTriggerOffset</code><span class="sig-paren">(</span><em>source_file</em>, <em>dest_file</em>, <em>source_group</em>, <em>dest_group</em>, <em>station=None</em>, <em>progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessEventsFromSourceWithTriggerOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>Process events from a different source and find trigger.</p>
<p>This is a subclass of <a class="reference internal" href="#sapphire.analysis.process_events.ProcessEventsFromSource" title="sapphire.analysis.process_events.ProcessEventsFromSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEventsFromSource</span></code></a> and
<a class="reference internal" href="#sapphire.analysis.process_events.ProcessEventsWithTriggerOffset" title="sapphire.analysis.process_events.ProcessEventsWithTriggerOffset"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessEventsWithTriggerOffset</span></code></a>.  Processing events and
finding the trigger time in the traces. And storing the results in a
different file than the source.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_file</strong><strong>,</strong><strong>dest_file</strong> – PyTables source and destination files.</li>
<li><strong>source_group</strong><strong>,</strong><strong>dest_group</strong> – the pathname of the source and
destination group.</li>
<li><strong>station</strong> – station number of station to which the data belongs.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessDataTable">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessDataTable</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessDataTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC abstract data table to clean the data.</p>
<p>Abstract data is a PyTables table containing a timestamp for each row.
Weather and singles data are examples of such tables. This class can be
used to process a set of abstract HiSPARC data, to remove duplicates and
sort the data by timestamp to store it in to a copy of the table.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.analysis.process_events.ProcessDataTable.table_name">
<code class="descname">table_name</code><em class="property"> = 'abstract_data'</em><a class="headerlink" href="#sapphire.analysis.process_events.ProcessDataTable.table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.analysis.process_events.ProcessDataTable.process_and_store_results">
<code class="descname">process_and_store_results</code><span class="sig-paren">(</span><em>destination=None</em>, <em>overwrite=False</em>, <em>limit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessDataTable.process_and_store_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Process table and store the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> – name of the table where the results will be
written.  The default, None, corresponds to the value stored
in self.table_name.</li>
<li><strong>overwrite</strong> – if True, overwrite previously obtained results.</li>
<li><strong>limit</strong> – the maximum number of records that will be stored.
The default, None, corresponds to no limit.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessDataTableFromSource">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessDataTableFromSource</code><span class="sig-paren">(</span><em>source_file</em>, <em>dest_file</em>, <em>source_group</em>, <em>dest_group</em>, <em>progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessDataTableFromSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC abstract data table from a different source.</p>
<p>This class is a subclass of ProcessDataTable. The difference is that in
this class, the source and destination are assumed to be different
files.  This also means that the source is untouched (no renaming of
original event tables) and the destination is assumed to be empty.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_file</strong><strong>,</strong><strong>dest_file</strong> – PyTables source and destination files.</li>
<li><strong>source_group</strong><strong>,</strong><strong>dest_group</strong> – the pathname of the source and
destination group.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessWeather">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessWeather</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessWeather" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC weather to clean the data.</p>
<p>This class can be used to process a set of HiSPARC weather, to
remove duplicates and sort the data by timestamp to store it in to a
copy of the weather table.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.analysis.process_events.ProcessWeather.table_name">
<code class="descname">table_name</code><em class="property"> = 'weather'</em><a class="headerlink" href="#sapphire.analysis.process_events.ProcessWeather.table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessWeatherFromSource">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessWeatherFromSource</code><span class="sig-paren">(</span><em>source_file</em>, <em>dest_file</em>, <em>source_group</em>, <em>dest_group</em>, <em>progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessWeatherFromSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC weather from a different source.</p>
<p>This class behaves like a subclass of ProcessWeather because of a common
ancestor (ProcessDataTable). The difference between this class
and ProcessWeather is that in this class, the source and destination are
assumed to be different files. This also means that the source is
untouched (no renaming of original event tables) and the destination is
assumed to be empty.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_file</strong><strong>,</strong><strong>dest_file</strong> – PyTables source and destination files.</li>
<li><strong>source_group</strong><strong>,</strong><strong>dest_group</strong> – the pathname of the source and
destination group.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.analysis.process_events.ProcessWeatherFromSource.table_name">
<code class="descname">table_name</code><em class="property"> = 'weather'</em><a class="headerlink" href="#sapphire.analysis.process_events.ProcessWeatherFromSource.table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessSingles">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessSingles</code><span class="sig-paren">(</span><em>data</em>, <em>group</em>, <em>source=None</em>, <em>progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessSingles" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC singles data to clean the data.</p>
<p>This class can be used to process a set of HiSPARC singles data, to
remove duplicates and sort the data by timestamp to store it in to a
copy of the singles data table.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> – the PyTables datafile</li>
<li><strong>group</strong> – the group containing the station data.  In normal
cases, this is simply the group containing the events table.</li>
<li><strong>source</strong> – the name of the events table.  Default: None,
meaning the default name ‘events’.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.analysis.process_events.ProcessSingles.table_name">
<code class="descname">table_name</code><em class="property"> = 'singles'</em><a class="headerlink" href="#sapphire.analysis.process_events.ProcessSingles.table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.analysis.process_events.ProcessSinglesFromSource">
<em class="property">class </em><code class="descclassname">sapphire.analysis.process_events.</code><code class="descname">ProcessSinglesFromSource</code><span class="sig-paren">(</span><em>source_file</em>, <em>dest_file</em>, <em>source_group</em>, <em>dest_group</em>, <em>progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.analysis.process_events.ProcessSinglesFromSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Process HiSPARC singles data from a different source.</p>
<p>This class behaves like a subclass of ProcessSingles because of a common
ancestor (ProcessDataTable). The difference between this class
and ProcessSingles is that in this class, the source and destination are
assumed to be different files. This also means that the source is
untouched (no renaming of original event tables) and the destination is
assumed to be empty.</p>
<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_file</strong><strong>,</strong><strong>dest_file</strong> – PyTables source and destination files.</li>
<li><strong>source_group</strong><strong>,</strong><strong>dest_group</strong> – the pathname of the source and
destination group.</li>
<li><strong>progress</strong> – if True show a progressbar while copying and
processing events.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.analysis.process_events.ProcessSinglesFromSource.table_name">
<code class="descname">table_name</code><em class="property"> = 'singles'</em><a class="headerlink" href="#sapphire.analysis.process_events.ProcessSinglesFromSource.table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/header.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="landau.html"
                        title="previous chapter">Landau distribution</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="process_traces.html"
                        title="next chapter">Processing of HiSPARC traces</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="process_traces.html" title="Processing of HiSPARC traces"
             >next</a> |</li>
        <li class="right" >
          <a href="landau.html" title="Landau distribution"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sapphire.html" >SAPPHiRE Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../analysis.html" >Data analysis</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, David Fokkema, Arne de Laat, and Tom Kooij.
    </div>
  </body>
</html>