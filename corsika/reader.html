
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>CORSIKA Reader &#8212; SAPPHiRE 1.7.1 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/hisparc_style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Store CORSIKA data as HDF5" href="store_corsika_data.html" />
    <link rel="prev" title="Convert CORSIKA simulations on Stoomboot" href="qsub_store_corsika_data.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="store_corsika_data.html" title="Store CORSIKA data as HDF5"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="qsub_store_corsika_data.html" title="Convert CORSIKA simulations on Stoomboot"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sapphire.html" >SAPPHiRE Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../corsika.html" accesskey="U">CORSIKA simulations</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-sapphire.corsika.reader">
<span id="corsika-reader"></span><h1>CORSIKA Reader<a class="headerlink" href="#module-sapphire.corsika.reader" title="Permalink to this headline">¶</a></h1>
<p>Read CORSIKA data files.</p>
<p>This provides functionality to read CORSIKA output
files with <a class="reference external" href="www.python.org">Python</a>. It provides the following main
classes:</p>
<ul class="simple">
<li><a class="reference internal" href="#sapphire.corsika.reader.CorsikaFile" title="sapphire.corsika.reader.CorsikaFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">CorsikaFile</span></code></a>: The file class provides a
generator over all events in the file.</li>
<li><a class="reference internal" href="#sapphire.corsika.reader.CorsikaEvent" title="sapphire.corsika.reader.CorsikaEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">CorsikaEvent</span></code></a>: The event class that
provides a generator over all particles at ground.</li>
</ul>
<p>and the following classes that correspond to the sub-blocks defined in
the CORSIKA manual:</p>
<ul class="simple">
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.RunHeader" title="sapphire.corsika.blocks.RunHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunHeader</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.RunEnd" title="sapphire.corsika.blocks.RunEnd"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunEnd</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.EventHeader" title="sapphire.corsika.blocks.EventHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventHeader</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.EventEnd" title="sapphire.corsika.blocks.EventEnd"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventEnd</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.ParticleData" title="sapphire.corsika.blocks.ParticleData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParticleData</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.CherenkovData" title="sapphire.corsika.blocks.CherenkovData"><code class="xref py py-class docutils literal notranslate"><span class="pre">CherenkovData</span></code></a></li>
</ul>
<p>Additionally version for thinned showers are available:</p>
<ul class="simple">
<li><a class="reference internal" href="#sapphire.corsika.reader.CorsikaFileThin" title="sapphire.corsika.reader.CorsikaFileThin"><code class="xref py py-class docutils literal notranslate"><span class="pre">CorsikaFileThin</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.ParticleDataThin" title="sapphire.corsika.blocks.ParticleDataThin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParticleDataThin</span></code></a></li>
<li><a class="reference internal" href="blocks.html#sapphire.corsika.blocks.CherenkovDataThin" title="sapphire.corsika.blocks.CherenkovDataThin"><code class="xref py py-class docutils literal notranslate"><span class="pre">CherenkovDataThin</span></code></a></li>
</ul>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>This module does not handle platform dependent issues such as byte
ordering (endianness) and field size. This was the result of an
afternoon hack and has only been tested with files generated using
32 bit CORSIKA files on a linux system compiled with gfortran.</p>
<ul class="simple">
<li><strong>Field Size</strong>: According to the CORSIKA user manual section 10.2
all quantities are written as single precision real numbers
independently of 32-bit or 64-bit, so each field in the file
should be 4 bytes long.</li>
<li><strong>Endianness</strong>: There is no check for byte ordering. It can be added
using Python’s <a class="reference external" href="http://docs.python.org/library/struct.html#struct-alignment">struct module</a>.</li>
<li><strong>Special Particles</strong>: This module currently ignores all special
(book-keeping) particles like for muon additional information and
history.</li>
</ul>
</div>
<div class="section" id="more-info">
<h2>More Info<a class="headerlink" href="#more-info" title="Permalink to this headline">¶</a></h2>
<p>For short information on fortran unformatted binary files, take a look
at <a class="reference external" href="http://paulbourke.net/dataformats/reading/">http://paulbourke.net/dataformats/reading/</a></p>
<p>For detailed information on the CORSIKA format, check the ‘Outputs’
chapter in the CORSIKA user manual. In particular, check the ‘Normal
Particle Output’ section.</p>
</div>
<div class="section" id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Javier Gonzalez</li>
<li>Arne de Laat &lt;<a class="reference external" href="mailto:adelaat&#37;&#52;&#48;nikhef&#46;nl">adelaat<span>&#64;</span>nikhef<span>&#46;</span>nl</a>&gt;</li>
</ul>
<dl class="class">
<dt id="sapphire.corsika.reader.CorsikaEvent">
<em class="property">class </em><code class="descclassname">sapphire.corsika.reader.</code><code class="descname">CorsikaEvent</code><span class="sig-paren">(</span><em>raw_file</em>, <em>header_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>CorsikaEvent constructor</p>
<p>The user never calls this. The CorsikaFile does.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>raw_file</strong> – <a class="reference internal" href="#sapphire.corsika.reader.CorsikaFile" title="sapphire.corsika.reader.CorsikaFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">CorsikaFile</span></code></a> object.</li>
<li><strong>header_index</strong> – index where the event header starts.</li>
<li><strong>end_index</strong> – index where the event end starts.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaEvent.get_header">
<code class="descname">get_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent.get_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Event Header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of EventHeader</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaEvent.get_end">
<code class="descname">get_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent.get_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Event end sub-block</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of EventEnd</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaEvent.get_particles">
<code class="descname">get_particles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaEvent.get_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator over particles in the event.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This generator filters out additional muon information and
all particles at observation levels other than 1.</p>
</div>
<p>Use like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">particle</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">get_particles</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">each particle in the event</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.corsika.reader.CorsikaFile">
<em class="property">class </em><code class="descclassname">sapphire.corsika.reader.</code><code class="descname">CorsikaFile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile" title="Permalink to this definition">¶</a></dt>
<dd><p>CORSIKA output file handler</p>
<p>This class will probide an interface for CORSIKA output files.
Allowing you go get at the events and particles in the file.
This class is meant for unthinned simulations.</p>
<p>CorsikaFile constructor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">the filemame of the CORSIKA data file</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.finish">
<code class="descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the opened CORSIKA data file</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check DAT file format</p>
<p>Some basic sanity checks.</p>
<p>Fortran unformatted files are written in ‘blocks’. Each block
has a header and end. They both contain the same
information: the number of bytes in the block.</p>
<p>This function only checks if there is an integer number of
blocks in the file and if the header and end are equal.</p>
<p>Here would be the place to dynamically check for endiannes and
field size.</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_sub_blocks">
<code class="descname">get_sub_blocks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_sub_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sub-blocks in the file.</p>
<p>Normally one would not need this function but it is here because
I have used it.</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_header">
<code class="descname">get_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Run header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of RunHeader</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_end">
<code class="descname">get_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Run end</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an instance of RunEnd</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.corsika.reader.CorsikaFile.get_events">
<code class="descname">get_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFile.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator over the Events in the file</p>
<p>This method is a generator over the events in the file.
Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">my_file</span><span class="o">.</span><span class="n">get_events</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.corsika.reader.CorsikaFileThin">
<em class="property">class </em><code class="descclassname">sapphire.corsika.reader.</code><code class="descname">CorsikaFileThin</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.corsika.reader.CorsikaFileThin" title="Permalink to this definition">¶</a></dt>
<dd><p>CORSIKA thinned output file handler</p>
<p>Same as the unthinned output handler, but with support for
the different format, particles also have the weight property.
This class is meant for thinned simulations.</p>
<p>CorsikaFileThin constructor</p>
<p>It takes a filename as argument</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/header.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">CORSIKA Reader</a><ul>
<li><a class="reference internal" href="#issues">Issues</a></li>
<li><a class="reference internal" href="#more-info">More Info</a></li>
<li><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="qsub_store_corsika_data.html"
                        title="previous chapter">Convert CORSIKA simulations on Stoomboot</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="store_corsika_data.html"
                        title="next chapter">Store CORSIKA data as HDF5</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="store_corsika_data.html" title="Store CORSIKA data as HDF5"
             >next</a> |</li>
        <li class="right" >
          <a href="qsub_store_corsika_data.html" title="Convert CORSIKA simulations on Stoomboot"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sapphire.html" >SAPPHiRE Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../corsika.html" >CORSIKA simulations</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, David Fokkema, Arne de Laat, and Tom Kooij.
    </div>
  </body>
</html>