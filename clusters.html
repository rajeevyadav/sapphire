
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HiSPARC clusters &#8212; SAPPHiRE 1.7.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/hisparc_style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CORSIKA simulations" href="corsika.html" />
    <link rel="prev" title="HiSPARC API" href="api.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="corsika.html" title="CORSIKA simulations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api.html" title="HiSPARC API"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="sapphire.html" accesskey="U">SAPPHiRE Reference</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-sapphire.clusters">
<span id="hisparc-clusters"></span><h1>HiSPARC clusters<a class="headerlink" href="#module-sapphire.clusters" title="Permalink to this headline">¶</a></h1>
<p>Define HiSPARC detectors, stations and clusters.</p>
<p>The <a class="reference internal" href="#sapphire.clusters.BaseCluster" title="sapphire.clusters.BaseCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCluster</span></code></a> defines a HiSPARC cluster consisting of one or
more stations.  The <a class="reference internal" href="#sapphire.clusters.Station" title="sapphire.clusters.Station"><code class="xref py py-class docutils literal notranslate"><span class="pre">Station</span></code></a> defines a HiSPARC station,
consisting of one or more <a class="reference internal" href="#sapphire.clusters.Detector" title="sapphire.clusters.Detector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a> objects.</p>
<p>To easily create a cluster object for a specific set of real HiSPARC
stations the <a class="reference internal" href="#sapphire.clusters.HiSPARCStations" title="sapphire.clusters.HiSPARCStations"><code class="xref py py-class docutils literal notranslate"><span class="pre">HiSPARCStations</span></code></a> can be used, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sapphire</span> <span class="k">import</span> <span class="n">HiSPARCStations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">HiSPARCStations</span><span class="p">([</span><span class="mi">102</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">105</span><span class="p">],</span> <span class="n">force_stale</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The use of <code class="docutils literal notranslate"><span class="pre">force_stale</span></code> forces the use of local data, which
is much faster to load than data from the server.</p>
<p>These cluster objects are mainly used by simulations and reconstructions.</p>
<dl class="class">
<dt id="sapphire.clusters.Detector">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">Detector</code><span class="sig-paren">(</span><em>station</em>, <em>position</em>, <em>orientation='UD'</em>, <em>detector_timestamps=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector" title="Permalink to this definition">¶</a></dt>
<dd><p>A HiSPARC detector</p>
<p>Initialize detector</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>station</strong> – station instance this detector is part of.</li>
<li><strong>position</strong> – x,y,z position of the center of the detectors
relative to the station center. z is optional. Multiple positions
can be provided by giving lists for each axis.</li>
<li><strong>orientation</strong> – orientation of the long side of the detector.
Either the angle in radians, or ‘UD’ or ‘LR’ meaning an
up-down or left-right orientation of the long side of the
detector respectively.</li>
<li><strong>detector_timestamps</strong> – list of timestamps, the timestamp at
which each of the layouts became active.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.clusters.Detector.detector_size">
<code class="descname">detector_size</code><a class="headerlink" href="#sapphire.clusters.Detector.detector_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_area">
<code class="descname">get_area</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_xy_coordinates">
<code class="descname">get_xy_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_xy_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_coordinates">
<code class="descname">get_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_polar_coordinates">
<code class="descname">get_polar_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_polar_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_cylindrical_coordinates">
<code class="descname">get_cylindrical_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_cylindrical_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_lla_coordinates">
<code class="descname">get_lla_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_lla_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get detector LLA coordinates (latitude, longitude, altitude)</p>
<p>get detector WGS84 coordinates
LLA: Latitude, Longitude, Altitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple (latitude, longitude, altitude).
Latitude, longitude in degrees. Altitude in meters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Detector.get_corners">
<code class="descname">get_corners</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Detector.get_corners" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the x, y coordinates of the detector corners</p>
<p>The z-coordinate is not returned because all detectors are
assumed to be laying flat.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">coordinates of detector corners, list of (x, y) tuples.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.Station">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">Station</code><span class="sig-paren">(</span><em>cluster</em>, <em>station_id</em>, <em>position</em>, <em>angle=None</em>, <em>detectors=None</em>, <em>station_timestamps=None</em>, <em>detector_timestamps=None</em>, <em>number=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station" title="Permalink to this definition">¶</a></dt>
<dd><p>A HiSPARC station</p>
<p>Initialize station</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cluster</strong> – cluster this station is a part of</li>
<li><strong>station_id</strong> – int (unique identifier)</li>
<li><strong>position</strong> – x,y,z position of the station center relative
to the cluster center, z is optional.</li>
<li><strong>angle</strong> – angle of rotation of the station in radians</li>
<li><strong>detectors</strong> – list of tuples.  Each tuple consists of (dx, dy,
orientation) where dx and dy are x and y positions of the
center of the detectors relative to the station center.
Orientation is either ‘UD’ or ‘LR’ meaning an up-down or
left-right orientation of the long side of the detector
respectively.</li>
<li><strong>station_timestamps</strong> – list of timestamps, the timestamp at
which each of the positions became active.</li>
<li><strong>detector_timestamps</strong> – list of timestamps, the timestamp at
which each of the layouts became active.</li>
<li><strong>number</strong> – optional unique identifier for a station this can
be used by the cluster to find a specific station and makes
it easier to link to a real station. If not given it will be
equal to the station_id.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.clusters.Station.detectors">
<code class="descname">detectors</code><a class="headerlink" href="#sapphire.clusters.Station.detectors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_area">
<code class="descname">get_area</code><span class="sig-paren">(</span><em>detector_ids=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total area covered by the detectors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>detector_ids</strong> – list of detectors for which to get the total area.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">total area of the detectors in m^2.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_xy_coordinates">
<code class="descname">get_xy_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_xy_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as get_coordinates but without the z and alpha</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_xyalpha_coordinates">
<code class="descname">get_xyalpha_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_xyalpha_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as get_coordinates but without the z</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_coordinates">
<code class="descname">get_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate coordinates of a station</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">x, y, z, alpha; coordinates and rotation of station
relative to absolute coordinate system</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_polar_alpha_coordinates">
<code class="descname">get_polar_alpha_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_polar_alpha_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_cylindrical_alpha_coordinates">
<code class="descname">get_cylindrical_alpha_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_cylindrical_alpha_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.get_lla_coordinates">
<code class="descname">get_lla_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.get_lla_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get station LLA coordinates (latitude, longitude, altitude)</p>
<p>LLA: Latitude, Longitude, Altitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple (latitude, longitude, altitude).
Latitude, longitude in degrees. Altitude in meters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.calc_r_and_phi_for_detectors">
<code class="descname">calc_r_and_phi_for_detectors</code><span class="sig-paren">(</span><em>d0</em>, <em>d1</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.calc_r_and_phi_for_detectors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.calc_rphiz_for_detectors">
<code class="descname">calc_rphiz_for_detectors</code><span class="sig-paren">(</span><em>d0</em>, <em>d1</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.calc_rphiz_for_detectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate angle and distance between detectors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d0</strong><strong>,</strong><strong>d1</strong> – detector ids to find the vector between.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">r,phi,z pointing from d0 to d1.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.calc_xy_center_of_mass_coordinates">
<code class="descname">calc_xy_center_of_mass_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.calc_xy_center_of_mass_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.Station.calc_center_of_mass_coordinates">
<code class="descname">calc_center_of_mass_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.Station.calc_center_of_mass_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate center of mass coordinates of detectors in station</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">x, y, z; coordinates of station center relative to
absolute coordinate system</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.BaseCluster">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">BaseCluster</code><span class="sig-paren">(</span><em>position=(0</em>, <em>0</em>, <em>0)</em>, <em>angle=0</em>, <em>lla=(52.35592417</em>, <em>4.95114402</em>, <em>56.10234594)</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for HiSPARC clusters</p>
<p>Override this function to build your cluster</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – x,y,z position for the center of the cluster.</li>
<li><strong>angle</strong> – rotation of the cluster in the x,y-plane.</li>
<li><strong>lla</strong> – Reference WGS84 location of the cluster origin.
Defaults to (old) GPS location of station 501 (Nikhef).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.clusters.BaseCluster.set_timestamp">
<code class="descname">set_timestamp</code><span class="sig-paren">(</span><em>timestamp</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.set_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the timestamp to set the active station and detector locations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestamp</strong> – timestamp in seconds.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.set_center_off_mass_at_origin">
<code class="descname">set_center_off_mass_at_origin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.set_center_off_mass_at_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cluster center of mass to (0, 0, 0)</p>
</dd></dl>

<dl class="attribute">
<dt id="sapphire.clusters.BaseCluster.stations">
<code class="descname">stations</code><a class="headerlink" href="#sapphire.clusters.BaseCluster.stations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_station">
<code class="descname">get_station</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_station" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a station by its number</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_xy_coordinates">
<code class="descname">get_xy_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_xy_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as get_coordinates but without the z and alpha</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_xyalpha_coordinates">
<code class="descname">get_xyalpha_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_xyalpha_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Like get_coordinates, but without z</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_coordinates">
<code class="descname">get_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster coordinates (x, y, z, alpha).</p>
<p>The coordinates should be interpreted as follows: first, the
cluster is rotated over angle alpha, around its original center.
Then, the cluster is translated to (x, y, z).</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_polar_alpha_coordinates">
<code class="descname">get_polar_alpha_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_polar_alpha_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Like get_cylindrical_coordinates but without z.</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_cylindrical_alpha_coordinates">
<code class="descname">get_cylindrical_alpha_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_cylindrical_alpha_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster coordinates (r, phi, z, alpha).</p>
<p>The coordinates should be interpreted as follows: first, the
cluster is rotated over angle alpha, around its original center.
Then, the cluster is translated to (r, phi, z).</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.get_lla_coordinates">
<code class="descname">get_lla_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.get_lla_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cluster LLA coordinates (latitude, longitude, altitude)</p>
<p>get cluster WGS84 coordinates
LLA: Latitude, Longitude, Altitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple (latitude, longitude, altitude).
Latitude, longitude in degrees. Altitude in meters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.set_coordinates">
<code class="descname">set_coordinates</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.set_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Set cluster coordinates (x, y, z, alpha).</p>
<p>The coordinates should be interpreted as follows: first, the
cluster is rotated over angle alpha, around its original center.
Then, the cluster is translated to (x, y, z).</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.set_cylindrical_coordinates">
<code class="descname">set_cylindrical_coordinates</code><span class="sig-paren">(</span><em>r</em>, <em>phi</em>, <em>z</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.set_cylindrical_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Set cluster coordinates (r, phi, z, alpha).</p>
<p>The coordinates should be interpreted as follows: first, the
cluster is rotated over angle alpha, around its original center.
Than, the cluster is translated to (r, phi).</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.calc_rphiz_for_stations">
<code class="descname">calc_rphiz_for_stations</code><span class="sig-paren">(</span><em>s0</em>, <em>s1</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.calc_rphiz_for_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance between and direction of two stations</p>
<p>The calculated result is between the center of mass coordinates
of the two stations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s0</strong><strong>,</strong><strong>s1</strong> – The station ids for the two stations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">r, phi, z; the distance between and direction of the two
given stations.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.calc_xy_center_of_mass_coordinates">
<code class="descname">calc_xy_center_of_mass_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.calc_xy_center_of_mass_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Like calc_center_of_mass_coordinates, but without z</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.calc_center_of_mass_coordinates">
<code class="descname">calc_center_of_mass_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.calc_center_of_mass_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate center of mass coordinates of all detectors in cluster</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">x, y, z; coordinates of cluster center relative to
absolute coordinate system</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.calc_distance_between_stations">
<code class="descname">calc_distance_between_stations</code><span class="sig-paren">(</span><em>s1</em>, <em>s2</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.calc_distance_between_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance between two stations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s1</strong><strong>,</strong><strong>s2</strong> – station numbers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">distance between stations.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.clusters.BaseCluster.calc_horizontal_distance_between_stations">
<code class="descname">calc_horizontal_distance_between_stations</code><span class="sig-paren">(</span><em>s1</em>, <em>s2</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.BaseCluster.calc_horizontal_distance_between_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate 2D distance between two HiSPARC stations. Ignores altitude</p>
<p>The 2D plane is the East-North plane defined by the ENU axes at the
reference location for this cluster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s1</strong><strong>,</strong><strong>s2</strong> – station numbers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">distance between stations.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.CompassStations">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">CompassStations</code><span class="sig-paren">(</span><em>position=(0</em>, <em>0</em>, <em>0)</em>, <em>angle=0</em>, <em>lla=(52.35592417</em>, <em>4.95114402</em>, <em>56.10234594)</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.CompassStations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add detectors to stations using compass coordinates</p>
<p>Compass coordinates consist of r, alpha, z, beta. These define
the location and orientation of detectors. For more information
see <cite>Coordinate systems and units in HiSPARC</cite>.</p>
<p>This is meant for data from the Publicdb Database API, which
uses that coordinate system.</p>
<p>Override this function to build your cluster</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>position</strong> – x,y,z position for the center of the cluster.</li>
<li><strong>angle</strong> – rotation of the cluster in the x,y-plane.</li>
<li><strong>lla</strong> – Reference WGS84 location of the cluster origin.
Defaults to (old) GPS location of station 501 (Nikhef).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.SimpleCluster">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">SimpleCluster</code><span class="sig-paren">(</span><em>size=250</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.SimpleCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a simple cluster containing four stations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>size</strong> – This value is the distance between the three outer stations.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.SingleStation">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">SingleStation</code><a class="headerlink" href="#sapphire.clusters.SingleStation" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a cluster containing a single station</p>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.SingleDetectorStation">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">SingleDetectorStation</code><a class="headerlink" href="#sapphire.clusters.SingleDetectorStation" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a cluster containing a single 1-detector station</p>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.SingleTwoDetectorStation">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">SingleTwoDetectorStation</code><a class="headerlink" href="#sapphire.clusters.SingleTwoDetectorStation" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a cluster containing a single 2 detector station</p>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.SingleDiamondStation">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">SingleDiamondStation</code><a class="headerlink" href="#sapphire.clusters.SingleDiamondStation" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a cluster containing a single diamond shaped station</p>
<p>Detectors 1, 3 and 4 are in the usual position for a 4 detector
layout, detector 2 is moved out of the center and positioned to
create a second equilateral triangle with detectors 1, 2 and 4.</p>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.HiSPARCStations">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">HiSPARCStations</code><span class="sig-paren">(</span><em>stations</em>, <em>skip_missing=False</em>, <em>force_fresh=False</em>, <em>force_stale=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.HiSPARCStations" title="Permalink to this definition">¶</a></dt>
<dd><p>A cluster containing any real station from the HiSPARC network</p>
<p>The gps position and number of detectors are taken from the API.
The detector positions are retrieved if available, otherwise
default values are used!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stations</strong> – A list of station numbers to include. The
coordinates are retrieved from the Public Database API.
The first station is placed at the origin of the cluster.</li>
<li><strong>skip_missing</strong> – Set to True to skip stations which have missing
location data, otherwise an exception will be raised. Stations
with missing location data will be excluded. Does not apply
to missing detector positions.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">HiSPARCStations</span><span class="p">([</span><span class="mi">7001</span><span class="p">,</span> <span class="mi">7002</span><span class="p">,</span> <span class="mi">7003</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.ScienceParkCluster">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">ScienceParkCluster</code><span class="sig-paren">(</span><em>stations=None</em>, <em>skip_missing=False</em>, <em>force_fresh=False</em>, <em>force_stale=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.ScienceParkCluster" title="Permalink to this definition">¶</a></dt>
<dd><p>A cluster containing stations from the Science Park subcluster</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stations</strong> – A list of station numbers to include. Only stations
from the Science Park subcluster (5xx) are supported. By default 507
is excluded.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.clusters.HiSPARCNetwork">
<em class="property">class </em><code class="descclassname">sapphire.clusters.</code><code class="descname">HiSPARCNetwork</code><span class="sig-paren">(</span><em>force_fresh=False</em>, <em>force_stale=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.HiSPARCNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>A cluster containing all station from the HiSPARC network</p>
</dd></dl>

<dl class="function">
<dt id="sapphire.clusters.flatten_cluster">
<code class="descclassname">sapphire.clusters.</code><code class="descname">flatten_cluster</code><span class="sig-paren">(</span><em>cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.clusters.flatten_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the altitudes for all detectors in a cluster object to z=0</p>
<p>Modify the given cluster by setting the z coordinates of the stations
and detectors to 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cluster</strong> – <a class="reference internal" href="#sapphire.clusters.BaseCluster" title="sapphire.clusters.BaseCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCluster</span></code></a> object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/header.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="api.html"
                        title="previous chapter">HiSPARC API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="corsika.html"
                        title="next chapter">CORSIKA simulations</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="corsika.html" title="CORSIKA simulations"
             >next</a> |</li>
        <li class="right" >
          <a href="api.html" title="HiSPARC API"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="sapphire.html" >SAPPHiRE Reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, David Fokkema, Arne de Laat, and Tom Kooij.
    </div>
  </body>
</html>