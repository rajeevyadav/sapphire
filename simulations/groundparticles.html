
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Simulations based on Monte Carlo EAS ground particle data &#8212; SAPPHiRE 1.7.1 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/hisparc_style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simulations based on theoretical models of EAS lateral distributions" href="ldf.html" />
    <link rel="prev" title="Detector simulations" href="detector.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ldf.html" title="Simulations based on theoretical models of EAS lateral distributions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="detector.html" title="Detector simulations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sapphire.html" >SAPPHiRE Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../simulations.html" accesskey="U">Simulation of the detection of EAS events</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-sapphire.simulations.groundparticles">
<span id="simulations-based-on-monte-carlo-eas-ground-particle-data"></span><h1>Simulations based on Monte Carlo EAS ground particle data<a class="headerlink" href="#module-sapphire.simulations.groundparticles" title="Permalink to this headline">¶</a></h1>
<p>Perform simulations of CORSIKA air showers on a cluster of stations</p>
<p>This simulation uses a HDF5 file created from a CORSIKA simulation with
the <code class="docutils literal notranslate"><span class="pre">store_corsika_data</span></code> script. The shower is ‘thrown’ on the cluster
with random core positions and azimuth angles.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tables</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sapphire</span> <span class="k">import</span> <span class="n">GroundParticlesSimulation</span><span class="p">,</span> <span class="n">ScienceParkCluster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">tables</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="s1">&#39;/tmp/test_groundparticle_simulation.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">ScienceParkCluster</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span> <span class="o">=</span> <span class="n">GroundParticlesSimulation</span><span class="p">(</span><span class="s1">&#39;corsika.h5&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="class">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">GroundParticlesSimulation</code><span class="sig-paren">(</span><em>corsikafile_path</em>, <em>max_core_distance</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikafile_path</strong> – path to the corsika.h5 file containing
the groundparticles.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.finish">
<code class="descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean-up after simulation</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.generate_shower_parameters">
<code class="descname">generate_shower_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.generate_shower_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate shower parameters like core position, energy, etc.</p>
<p>For this groundparticles simulation, only the shower core position
and rotation angle of the shower are generated.  Do <em>not</em>
interpret these parameters as the position of the cluster, or the
rotation of the cluster!  Interpret them as <em>shower</em> parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary with shower parameters: core_pos
(x, y-tuple) and azimuth.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_detector_response">
<code class="descname">simulate_detector_response</code><span class="sig-paren">(</span><em>detector</em>, <em>shower_parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_detector_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate detector response to a shower.</p>
<p>Checks if leptons have passed a detector. If so, it returns the number
of leptons in the detector and the arrival time of the first lepton
passing the detector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>detector</strong> – <a class="reference internal" href="../clusters.html#sapphire.clusters.Detector" title="sapphire.clusters.Detector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a> for which
the observables will be determined.</li>
<li><strong>shower_parameters</strong> – dictionary with the shower parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_detector_mips_for_particles">
<code class="descname">simulate_detector_mips_for_particles</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_detector_mips_for_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate the detector signal for particles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – particle rows with the p_[x, y, z]
components of the particle momenta.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_trigger">
<code class="descname">simulate_trigger</code><span class="sig-paren">(</span><em>detector_observables</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate a trigger response.</p>
<p>This implements the trigger as used on HiSPARC stations:
- 4-detector station: at least two high or three low signals.
- 2-detector station: at least 2 low signals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>detector_observables</strong> – list of dictionaries, each containing
the observables of one detector.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the station triggers, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_gps">
<code class="descname">simulate_gps</code><span class="sig-paren">(</span><em>station_observables</em>, <em>shower_parameters</em>, <em>station</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.simulate_gps" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate gps timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>station_observables</strong> – dictionary containing the observables
of the station.</li>
<li><strong>shower_parameters</strong> – dictionary with the shower parameters.</li>
<li><strong>station</strong> – <a class="reference internal" href="../clusters.html#sapphire.clusters.Station" title="sapphire.clusters.Station"><code class="xref py py-class docutils literal notranslate"><span class="pre">sapphire.clusters.Station</span></code></a> for which
to simulate the gps timestamp.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">station_observables updated with gps timestamp and
trigger time.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulation.get_particles_in_detector">
<code class="descname">get_particles_in_detector</code><span class="sig-paren">(</span><em>detector</em>, <em>shower_parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation.get_particles_in_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get particles that hit a detector.</p>
<p>Particle ids 2, 3, 5, 6 are electrons and muons,
id 4 is no longer used (were neutrino’s).</p>
<p>The detector is approximated by a square with a surface of 0.5
square meter which is <em>not</em> correctly rotated.  In fact, during
the simulation, the rotation of the detector is undefined.  This
is faster than a more thorough implementation.</p>
<p>The CORSIKA simulation azimuth is used for the projection because the
cluster is rotated such that from the perspective of the rotated
detectors the CORSIKA showers come from the desired azimuth. In the
simulation frame the CORSIKA shower azimuth remains unchanged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>detector</strong> – <a class="reference internal" href="../clusters.html#sapphire.clusters.Detector" title="sapphire.clusters.Detector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a> for which
to get particles.</li>
<li><strong>shower_parameters</strong> – dictionary with the shower parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.simulations.groundparticles.GroundParticlesGammaSimulation">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">GroundParticlesGammaSimulation</code><span class="sig-paren">(</span><em>corsikafile_path</em>, <em>max_core_distance</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesGammaSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulation which includes signals from gamma particles in the shower</p>
<p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikafile_path</strong> – path to the corsika.h5 file containing
the groundparticles.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesGammaSimulation.simulate_detector_response">
<code class="descname">simulate_detector_response</code><span class="sig-paren">(</span><em>detector</em>, <em>shower_parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesGammaSimulation.simulate_detector_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate detector response to a shower.</p>
<p>Checks if particles have passed a detector. If so, it returns the
number of particles in the detector and the arrival time of the first
particle passing the detector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>detector</strong> – <a class="reference internal" href="../clusters.html#sapphire.clusters.Detector" title="sapphire.clusters.Detector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a> for which
the observables will be determined.</li>
<li><strong>shower_parameters</strong> – dictionary with the shower parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesGammaSimulation.get_particles_in_detector">
<code class="descname">get_particles_in_detector</code><span class="sig-paren">(</span><em>detector</em>, <em>shower_parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesGammaSimulation.get_particles_in_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get particles that hit a detector.</p>
<p>Particle ids 2, 3, 5, 6 are electrons and muons,
id 4 is no longer used (were neutrino’s).</p>
<p>The detector is approximated by a square with a surface of 0.5
square meter which is <em>not</em> correctly rotated.  In fact, during
the simulation, the rotation of the detector is undefined.  This
is faster than a more thorough implementation.</p>
<p><em>Detector height is ignored!</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>detector</strong> – <a class="reference internal" href="../clusters.html#sapphire.clusters.Detector" title="sapphire.clusters.Detector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a> for which
to get particles.</li>
<li><strong>shower_parameters</strong> – dictionary with the shower parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.GroundParticlesGammaSimulation.simulate_detector_mips_for_gammas">
<code class="descname">simulate_detector_mips_for_gammas</code><span class="sig-paren">(</span><em>particles</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesGammaSimulation.simulate_detector_mips_for_gammas" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate the detector signal for gammas</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>particles</strong> – particle rows with the p_[x, y, z]
components of the particle momenta.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.simulations.groundparticles.DetectorBoundarySimulation">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">DetectorBoundarySimulation</code><span class="sig-paren">(</span><em>corsikafile_path</em>, <em>max_core_distance</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.DetectorBoundarySimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>More accuratly simulate the detection area of the detectors.</p>
<p>Take the orientation of the detectors into account and use the
exact detector boundaries. This requires a slightly more complex
query which is a bit slower.</p>
<p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikafile_path</strong> – path to the corsika.h5 file containing
the groundparticles.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.simulations.groundparticles.DetectorBoundarySimulation.get_particles_in_detector">
<code class="descname">get_particles_in_detector</code><span class="sig-paren">(</span><em>detector</em>, <em>shower_parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.DetectorBoundarySimulation.get_particles_in_detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate the detector detection area accurately.</p>
<p>First particles are filtered to see which fall inside a
non-rotated square box around the detector (i.e. sides of 1.2m).
For the remaining particles a more accurate query is used to see
which actually hit the detector. The advantage of using the
square is that column indexes can be used, which may speed up
queries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>detector</strong> – <a class="reference internal" href="../clusters.html#sapphire.clusters.Detector" title="sapphire.clusters.Detector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a> for which
to get particles.</li>
<li><strong>shower_parameters</strong> – dictionary with the shower parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.DetectorBoundarySimulation.get_line_boundary_eqs">
<code class="descname">get_line_boundary_eqs</code><span class="sig-paren">(</span><em>p0</em>, <em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.DetectorBoundarySimulation.get_line_boundary_eqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get line equations using three points</p>
<p>Given three points, this function computes the equations for two
parallel lines going through these points.  The first and second
point are on the same line, whereas the third point is taken to
be on a line which runs parallel to the first.  The return value
is an equation and two boundaries which can be used to test if a
point is between the two lines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>p0</strong><strong>,</strong><strong>p1</strong> – (x, y) tuples on the same line.</li>
<li><strong>p2</strong> – (x, y) tuple on the parallel line.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">value1, equation, value2, such that points satisfying
value1 &lt; equation &lt; value2 are between the parallel lines.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_line_boundary_eqs</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">(0.0, &#39;y - 1.000000 * x&#39;, 2.0)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.simulations.groundparticles.ParticleCounterSimulation">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">ParticleCounterSimulation</code><span class="sig-paren">(</span><em>corsikafile_path</em>, <em>max_core_distance</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.ParticleCounterSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not simulate mips, just count the number of particles.</p>
<p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikafile_path</strong> – path to the corsika.h5 file containing
the groundparticles.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sapphire.simulations.groundparticles.ParticleCounterSimulation.simulate_detector_mips">
<code class="descname">simulate_detector_mips</code><span class="sig-paren">(</span><em>n</em>, <em>theta</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.ParticleCounterSimulation.simulate_detector_mips" title="Permalink to this definition">¶</a></dt>
<dd><p>A mip for a mip, count number of particles in a detector.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.simulations.groundparticles.FixedCoreDistanceSimulation">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">FixedCoreDistanceSimulation</code><span class="sig-paren">(</span><em>corsikafile_path</em>, <em>max_core_distance</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.FixedCoreDistanceSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Shower core at a fixed core distance (from cluster origin).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>core_distance</strong> – distance of shower core to center of cluster.</td>
</tr>
</tbody>
</table>
<p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikafile_path</strong> – path to the corsika.h5 file containing
the groundparticles.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="classmethod">
<dt id="sapphire.simulations.groundparticles.FixedCoreDistanceSimulation.generate_core_position">
<em class="property">classmethod </em><code class="descname">generate_core_position</code><span class="sig-paren">(</span><em>r_max</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.FixedCoreDistanceSimulation.generate_core_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random core position on a circle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>r_max</strong> – Fixed core distance, in meters.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Random x, y position on the circle with radius r_max.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sapphire.simulations.groundparticles.GroundParticlesSimulationWithoutErrors">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">GroundParticlesSimulationWithoutErrors</code><span class="sig-paren">(</span><em>corsikafile_path</em>, <em>max_core_distance</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.GroundParticlesSimulationWithoutErrors" title="Permalink to this definition">¶</a></dt>
<dd><p>This simulation does not simulate errors/uncertainties</p>
<p>This results in perfect timing (first particle through detector)
and particle counting for the detectors.</p>
<p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikafile_path</strong> – path to the corsika.h5 file containing
the groundparticles.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation">
<em class="property">class </em><code class="descclassname">sapphire.simulations.groundparticles.</code><code class="descname">MultipleGroundParticlesSimulation</code><span class="sig-paren">(</span><em>corsikaoverview_path</em>, <em>max_core_distance</em>, <em>min_energy</em>, <em>max_energy</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Use multiple CORSIKA simulated air showers in one run.</p>
<p>Simulations will be selected from the set of available showers.
Each time an energy and zenith angle is generated a shower is selected
from the CORSIKA overview. Each shower is reused multiple times to
take advantage of caching, and to reduce IO stress.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This simulation loads a new shower often it is therefore more I/O
intensive than <a class="reference internal" href="#sapphire.simulations.groundparticles.GroundParticlesSimulation" title="sapphire.simulations.groundparticles.GroundParticlesSimulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroundParticlesSimulation</span></code></a>. Do not run many
of these simulations simultaneously!</p>
</div>
<p>Simulation initialization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>corsikaoverview_path</strong> – path to the corsika_overview.h5 file
containing the available simulations.</li>
<li><strong>max_core_distance</strong> – maximum distance of shower core to
center of cluster.</li>
<li><strong>min_energy</strong><strong>,</strong><strong>max_energy</strong> – upper and lower shower energy limits,
in eV.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.DATA">
<code class="descname">DATA</code><em class="property"> = '/data/hisparc/corsika/data/{seeds}/corsika.h5'</em><a class="headerlink" href="#sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.finish">
<code class="descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean-up after simulation</p>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.generate_shower_parameters">
<code class="descname">generate_shower_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.generate_shower_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate shower parameters like core position, energy, etc.</p>
<p>For this groundparticles simulation, only the shower core position
and rotation angle of the shower are generated.  Do <em>not</em>
interpret these parameters as the position of the cluster, or the
rotation of the cluster!  Interpret them as <em>shower</em> parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary with shower parameters: core_pos
(x, y-tuple) and azimuth.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.select_simulation">
<code class="descname">select_simulation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sapphire.simulations.groundparticles.MultipleGroundParticlesSimulation.select_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate parameters for selecting a CORSIKA simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">simulation row from a CORSIKA Simulations table.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/header.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="detector.html"
                        title="previous chapter">Detector simulations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ldf.html"
                        title="next chapter">Simulations based on theoretical models of EAS lateral distributions</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ldf.html" title="Simulations based on theoretical models of EAS lateral distributions"
             >next</a> |</li>
        <li class="right" >
          <a href="detector.html" title="Detector simulations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SAPPHiRE 1.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../sapphire.html" >SAPPHiRE Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../simulations.html" >Simulation of the detection of EAS events</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, David Fokkema, Arne de Laat, and Tom Kooij.
    </div>
  </body>
</html>